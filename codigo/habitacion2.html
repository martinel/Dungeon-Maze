<html>

	 <head>  
	
	<link href="estilo.css" media="screen" type="text/css" rel="stylesheet">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.js" type="text/javascript"></script>
	<script src="miScript.js" type="text/javascript"></script>
	<title>Segundo Nivel</title>
	<script>
	 	function moverImagen(direccion){
	 
		var guerrero = document.getElementById("guerrero");
		var y = getDimensions(guerrero).y -22;
		var x = getDimensions(guerrero).x -22;
		var llavex = getDimensions(llave2).x -22;
		var llavey = getDimensions(llave2).y -22;
		var goldonex = getDimensions(oroun).x -22;
		var goldoney = getDimensions(oroun).y -22;
		var goldtwox = getDimensions(orodoix).x -22;
		var goldtwoy = getDimensions(orodoix).y -22;
		var goldtrsx = getDimensions(orotrois).x -22;
		var goldtrsy = getDimensions(orotrois).y -22;
		var goldfox = getDimensions(oroquatre).x -22;
		var goldfoy = getDimensions(oroquatre).y -22;
		var gue={
		  ataque:10,
		  defensa:14,
		  damage:15,
		  vida:100,
		  }
			document.getElementById("stats").innerHTML="Ataque: "+gue.ataque+"<br>"+"Defensa: "+gue.defensa+"<br>"+"Damage: "+gue.damage+"<br>"+"Vida: "+gue.vida; 	
		
		switch(direccion.keyCode){
		  case 38:
			if(y>16){
			 y = y - 25 ;
			
			guerrero.style.top = String(y)+"px";
			moverEnemigos();			
			}break;
		  case 37:
			if(x>16){
			 x -= 25;
			
			guerrero.style.left = String(x)+"px";
			 moverEnemigos();
		}break;
		  case 40:
			if(y<409){
			 y += 25;
			
			guerrero.style.top = String(y)+"px";
			 moverEnemigos();			  
			}break;
		  
		  case 39:
			
			if(x<730){
			x += 25;
			
			guerrero.style.left = String(x)+"px";
			 moverEnemigos();
			}break;
		}
		if(x==llavex && y==llavey){
			alert("Has llegado al tercer nivel!");
			location.href='habitacion3.html';
		}
		else{
			if(x==goldonex && y==goldoney){
				gue.ataque= gue.ataque+5;
				document.getElementById("oroun").style.visibility='hidden';
				document.getElementById("stats").innerHTML="Ataque: "+gue.ataque+"<br>"+"Defensa: "+gue.defensa+"<br>"+"Damage: "+gue.damage+"<br>"+"Vida: "+gue.vida;
			}
			else{
				if(x==goldtwox && y==goldtwoy){
					gue.ataque+=10;
					gue.defensa+=20;
					document.getElementById("orodoix").style.visibility='hidden';
					document.getElementById("stats").innerHTML="Ataque: "+gue.ataque+"<br>"+"Defensa: "+gue.defensa+"<br>"+"Damage: "+gue.damage+"<br>"+"Vida: "+gue.vida;
				}
				else{
					if(x==goldtrsx && y==goldtrsy){
						gue.vida+=10;
						document.getElementById("orotrois").style.visibility='hidden';
						document.getElementById("stats").innerHTML="Ataque: "+gue.ataque+"<br>"+"Defensa: "+gue.defensa+"<br>"+"Damage: "+gue.damage+"<br>"+"Vida: "+gue.vida;
					}
					else{
						if(x==goldfox && y==goldfoy){
							gue.damage+=7;
							gue.defensa+=11;
							document.getElementById("oroquatre").style.visibility='hidden';
							document.getElementById("stats").innerHTML="Ataque: "+gue.ataque+"<br>"+"Defensa: "+gue.defensa+"<br>"+"Damage: "+gue.damage+"<br>"+"Vida: "+gue.vida;
						}
					}
					
				}	
			}	
		}		
	  }
	  function moverEnemigos(){
			var i;	
			for(i=0;i<=7;i++){
				if(i=1){
					moverEnemigo(document.getElementById("orco1"));
				}
				if(i=2){
					moverEnemigo(document.getElementById("orco2"));
				}
				if(i=3){
					moverEnemigo(document.getElementById("orco3"));
				}
				if(i=4){
					moverEnemigo(document.getElementById("goblin1"));
				}
				if(i=5){
					moverEnemigo(document.getElementById("goblin2"));
				}
				if(i=6){
					moverEnemigo(document.getElementById("goblin3"));
				}
				if(i=7){
					moverEnemigo(document.getElementById("goblin4"));
				}
			
				}
	   }
		 function inicio(){	
			document.getElementById("stats").innerHTML="Ataque: "+gue.ataque+"<br>"+"Defensa: "+gue.defensa+"<br>"+"Damage: "+gue.damage+"<br>"+"Vida: "+gue.vida;
	  }
	</script>
  </head>
  
  <body onload="inicio();" onkeydown="moverImagen(event);">
	<embed src="nivel2.mp3" hidden="true" type="audio/mpeg" autostart="true"></embed>
	<div id="contorno">
	
	<div id="juego2">
	<div id="guerrero"><img src="sprite-guerrero.jpg" class="imagen" /></div>
	<img src="goblin.gif" class="imagen" id="goblin1" />
	<img src="goblin.gif" class="imagen" id="goblin2" />
	<img src="goblin.gif" class="imagen" id="goblin3" />
	<img src="goblin.gif" class="imagen" id="goblin4" />
	<img src="orco.jpg" class="imagen" id="orco1" />
	<img src="orco.jpg" class="imagen" id="orco2" />
	<img src="orco.jpg" class="imagen" id="orco3" />
	<img src="llave.gif" class="imagen" id="llave2" />
	<img src="oro.jpg" class="imagen" id="oroun" />
	<img src="oro.jpg" class="imagen" id="orodoix" />
	<img src="oro.jpg" class="imagen" id="orotrois" />
	<img src="oro.jpg" class="imagen" id="oroquatre" />
	</div>
	</div>
	<div id="stats">
	
	
	</div>
  </body>

</html>

		